<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lista de Treinos</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <h1>Lista de Treinos</h1>
  <div id="listaTreinos"></div>

  <div class="container">
    <div class="footer">
      <a href="adicionar.html" class="botao-footer">Adicionar Novo</a>
      <a href="index.html" class="botao-footer">InÃ­cio</a>
      <button id="limpar" class="botao-footer" style="color: red;">Limpar Tudo</button>
    </div>
  </div>

  <script>
    const listaDiv = document.getElementById('listaTreinos');
    let treinos = JSON.parse(localStorage.getItem('treinos')) || [];

    function renderTreinos() {
      listaDiv.innerHTML = '';

      if (treinos.length === 0) {
        listaDiv.innerHTML = '<p class="vazio">Nenhum treino cadastrado ainda ðŸ’ª</p>';
        return;
      }

      treinos.forEach((treino, index) => {
        const divTreino = document.createElement('div');
        divTreino.classList.add('treino');
        divTreino.innerHTML = `
          <h3>${treino.nome}</h3>
          <p><strong>SÃ©ries:</strong> ${treino.series}</p>
          <p><strong>Reps:</strong> ${treino.reps.join(' / ')}</p>
          <p><strong>Pesos:</strong> ${treino.pesos.join(' / ')} kg</p>
          <div class="acoes">
            <button class="editar">Editar</button>
            <button class="excluir">Excluir</button>
          </div>
        `;

        divTreino.querySelector('.excluir').addEventListener('click', () => {
          treinos.splice(index, 1);
          localStorage.setItem('treinos', JSON.stringify(treinos));
          renderTreinos();
        });

        divTreino.querySelector('.editar').addEventListener('click', () => {
          const novoNome = prompt('Novo nome:', treino.nome);
          const novasSeries = prompt('NÃºmero de sÃ©ries:', treino.series);
          const novasReps = prompt('Reps (separadas por /):', treino.reps.join(' / ')).split('/');
          const novosPesos = prompt('Pesos (separados por /):', treino.pesos.join(' / ')).split('/');

          if (novoNome && novasSeries && novasReps && novosPesos) {
            treinos[index] = {
              nome: novoNome.trim(),
              series: novasSeries.trim(),
              reps: novasReps.map(r => r.trim()),
              pesos: novosPesos.map(p => p.trim())
            };
            localStorage.setItem('treinos', JSON.stringify(treinos));
            renderTreinos();
          }
        });

        listaDiv.appendChild(divTreino);
      });
    }

    document.getElementById('limpar').addEventListener('click', () => {
      if (confirm('Tem certeza que deseja apagar todos os treinos?')) {
        localStorage.removeItem('treinos');
        treinos = [];
        renderTreinos();
      }
    });

    renderTreinos();
  </script>
</body>
</html>
